---
layout: post
title: LaTeX 不太简短的介绍
date: 2025-03-02 11:13
description: 
tags: 
categories: 
---

## LaTeX 的基本概念

### 概述

Tex 是高德纳为排版文字和数学公式而开发的软件。

LaTeX 是一种使用 Tex 程序作为排版引擎的格式，可以粗略地将它理解成是对 Tex 的一层封装。

LaTeX 最初的设计目的是**分离内容与格式**，以便作者能够**专注于内容创作而非排版设计**，并能以此得到高质量排版的作品。

### LaTeX 命令和代码结构

```tex
\documentclass{ctexart}
\begin{documeng}
“你好，世界！”来自 \LaTeX{} 的问候。
\end{document}
```

字母形式的 LaTeX 命令忽略其后的所有连续空格。如果要人为引入空格，需要在命令后面加一对花括号阻止其忽略空格：

```tex
\TeX 会忽略空格。
\TeX{} 不会忽略空格。
```

LaTeX 还包括**环境**，用以令一些效果在局部生效，或是生成特殊的文档元素。LaTeX 环境的用法为一对命令 `\begin` 和 `\end` ，部分环境允许嵌套使用：

```tex
\begin{<enviroment name>}[<optional arguments>]{<mandatory arguments>}
...
\end{<enviroment name>}
```

有些命令（如 `\bfseries` ）会对其后所有内容产生作用。若要限制其作用范围，则需要使用**分组**。LaTeX 使用一对花括号 `{` 和 `}` 作为分组，在分组中使用的命令被限制在分组内，不会影响到分组外的内容（*个别命令在分组内仍然会产生全局作用*）。上文提到的 LaTeX 环境隐含了一个分组，在环境中的命令被包裹在分组内。

LaTeX 的源代码结构：

```tex
\documentclass{...} % ... 为某文档
% 导言区
\begin{document}
% 正文内容
\end{document}
% 此后内容会被忽略
```

### LaTeX 宏包和文档类

**文档类**规定了 LaTeX 源代码所要生成的文档的性质——普通文章、书籍、演示文稿、个人简历等等。LaTeX 源代码的开头须用 `\documentclass` 指定文档类:

```tex
\documentclass[<options>]{<class-name>}
```

其中 `⟨class-name⟩` 为文档类的名称，如 LaTeX 提供的 `article`、`report`、`book`，在其基础上派 生的一些文档类，如支持中文排版的 `ctexart`、`ctexrep`、`ctexbook`，或者有其它功能的一些文档类， 如 `moderncv`、`beamer 等。其中前三个习惯上称为“标准文档类”。

可选参数 `⟨options⟩` 为文档类指定选项，以全局地规定一些排版的参数，如字号、纸张大小、 单双面等等。比如调用 article 文档类排版文章，指定纸张为 A4 大小，基本字号为 11pt，双面 排版:

```tex
\documentclass[11pt,twoside,a4paper]{article}
```

LaTeX 的三个标准文档类可指定的选项包括:

`10pt, 11pt, 12pt` 指定文档的基本字号。默认为 10pt。  
`a4paper, letterpaper, ...` 指定纸张大小，默认为美式信纸letterpaper(8.5in×11in，大 约相当于 21.6 cm × 28.0 cm)。可指定选项还包括 a5paper，b5paper，executivepaper 和 legalpaper。有关纸张大小的更多细节。  
`twoside, oneside` 指定单面/双面排版。双面排版时，奇偶页的页眉页脚、页边距不同。article 和 report 默认为 oneside，book 默认为 twoside。  
`onecolumn, twocolumn` 指定单栏/双栏排版。默认为 onecolumn。  
`openright, openany` 指定新的一章 \chapter 是在奇数页(右侧)开始，还是直接紧跟着上一页开始。report 默认为 openany，book 默认为 openright。对 article 无效。  
`landscape` 指定横向排版。默认为纵向。  
`titlepage, notitlepage` 指定标题命令 \maketitle 是否生成单独的标题页。article 默认为 notitlepage，report 和 book 默认为 titlepage。  
`fleqn` 令行间公式左对齐。默认为居中对齐。  
`leqno` 将公式编号放在左边。默认为右边。  
`draft, final` 指定草稿/终稿模式。草稿模式下，断行不良(溢出)的地方会在行尾添加一个 黑色方块;插图、超链接等功能也会受这一组选项影响，具体见后文。默认为 final。

在使用 LaTeX 时，时常需要依赖一些扩展来增强或补充 LaTeX 的功能，比如排版复杂的表格、插入图片、增加颜色甚至超链接等等。这些扩展称为**宏包**。调用宏包的方法非常类似调用文档类的方法:

```tex
\usepackage[⟨options⟩]{⟨package-name⟩}
```

`\usepackage` 可以一次性调用多个宏包，在 `⟨package-name⟩` 中用逗号隔开。这种用法一般
不要指定选项 :

```tex
% 一次性调用三个排版表格常用的宏包
\usepackage{tabularx, makecell, multirow}
```

宏包(包括前面所说的文档类)可能定义了许多命令和环境，或者修改了 LaTeX 已有的命令和环境。它们的用法说明记在相应宏包和文档类的帮助文档。在 Windows 命令提示符或者 Linux 终端下输入命令可查阅相应文档:

```shell
texdoc ⟨pkg-name⟩
```

### 文件的组织方式

当编写长篇文档时，例如当编写书籍、毕业论文时，单个源文件会使修改、校对变得十分困难。将源文件分割成若干个文件，例如将每章内容单独写在一个文件中，会大大简化修改和校对的工作。

LaTeX 提供了命令 `\include` 用来在源代码里插入文件: 

```tex
\include{⟨filename⟩}
```

`⟨filename⟩` 为文件名(不带 `.tex` 扩展名)，如果和要编译的主文件不在一个目录中，则要加上相对或绝对路径，例如:

```tex
\include{chapters/file} % 相对路径
\include{/home/Bob/file} % *nix(包含 Linux、macOS)绝对路径 \include{D:/file} % Windows 绝对路径，用正斜线
```

值得注意的是 `\include` 在读入 `⟨filename⟩` 之前会另起一页。有的时候我们并不需要这样， 而是用 `\input` 命令，它纯粹是把文件里的内容插入:
```tex
\input{⟨filename⟩}
```

当导言区内容较多时，常常将其单独放置在一个 `.tex` 文件中，再用 `\input` 命令插入。复杂的图、表、代码等也会用类似的手段处理。

LaTeX 还提供了一个 `\includeonly` 命令来组织文件，用于**导言区**，指定只载入某些文件。 导言区使用了 `\includeonly` 后，正文中不在其列表范围的 `\include` 命令不会起效:

```tex
\includeonly{⟨filename1⟩,⟨filename2⟩,...}
```

需要注意的是，使用 `\include` 和 `\input` 命令载入的文件名最好不要加空格和特殊字符， 也尽量避免使用中文名，否则很可能会出错。

最后介绍一个实用的工具宏包 `syntonly`。加载这个宏包后，在导言区使用 `\syntaxonly` 命令，可令 LaTeX 编译后不生成 DVI 或者 PDF 文档，只排查错误，编译速度会快不少:

```tex
\usepackage{syntonly}
\syntaxonly
```

如果想生成文档，则用 `%` 注释掉 `\syntaxonly` 命令即可。
